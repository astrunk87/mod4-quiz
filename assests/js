var timeEl = document.querySelector(".time");
var mainEl = document.querySelector("main");
var pointsEl = document.querySelector(".points");
var startGame = document.querySelector("#start");
var question = document.querySelector("h2");
var answer1 = document.querySelector("#answer1");
var answer2 = document.querySelector("#answer2");
var answer3 = document.querySelector("#answer3");
var answer4 = document.querySelector("#answer4");
var scoreEl = document.querySelector("#score");
var answerBox = document.querySelector("#answerBox");
var player = document.getElementById("msg");
var saveButton = document.getElementById("save");
var finalScore = document.getElementById("scoreSpot");
var enterButton = document.getElementById("enter");

var secondsLeft = 60;
var startingScore = 0;




startGame.addEventListener("click", timer);
   

function timer (event) {
    var timerInterval = setInterval(function(){
        secondsLeft--;
        timeEl.textContent = secondsLeft + " tell game over";
                

        if(secondsLeft <= 0) {
            clearInterval(timerInterval);
            
            sendMessage();
        }
    }, 1000);

    question.textContent = "which answer is a web api?";
    answer1.textContent = "java script";
    answer2.textContent = "css";
    answer3.textContent = "bootstrap";
    answer4.textContent = "html";
    
    answer4.addEventListener("click",function(){
        if(secondsLeft > 0){
        secondQuestion()
        loseTime()
        answerBox.textContent = "wrong -5 seconds";
        }});
    answer1.addEventListener("click",function(){
        if(secondsLeft > 0){
        secondQuestion()
        loseTime()
        answerBox.textContent = "wrong -5 seconds";
        }});
    answer2.addEventListener("click",function(){
        if(secondsLeft > 0){
        secondQuestion()
        loseTime()
        answerBox.textContent = "wrong -5 seconds";
        }});

    answer3.addEventListener("click",function() {
        if(secondsLeft > 0) {
        
        secondQuestion()
        
        answerBox.textContent = ("correct!! + 5 points!!");
        addPoints()
        }})};   

    function secondQuestion(){
        question.textContent = " what does css stand for?";
        answer1.textContent = " creative sheet standard";
        answer2.textContent = " casscading standard style";
        answer3.textContent = " casscading style sheet";        
        answer4.textContent = " color style sheet";
        answer1.addEventListener("click",function(){
            if(secondsLeft > 0){            
            loseTime()            
            thirdQuestion()
            answerBox.textContent = "wrong -5 seconds";
            }});
        answer2.addEventListener("click",function(){
            if(secondsLeft > 0){
            loseTime()  
            thirdQuestion()   
            answerBox.textContent = "wrong -5 seconds";       
            }});
        answer3.addEventListener("click",function(){
            if(secondsLeft > 0){
            thirdQuestion()
            addPoints()
            answerBox.textContent = ("correct!! + 5 points!!");
            }});        
        answer4.addEventListener("click",function(){
            if(secondsLeft > 0){
            loseTime()
            thirdQuestion()
            answerBox.textContent = "wrong -5 seconds";
            }});   
         
    }

    function thirdQuestion() {
        question.textContent = "what does js stand for?";
        answer3.textContent = " Java Script";
        answer2.textContent = " joint style";
        answer1.textContent = " james script";
        answer4.textContent = " jelly scone";
        answer3.addEventListener("click",function(){
            if(secondsLeft > 0){
            endGame();
            addPoints();
            answerBox.textContent = ("correct!! + 5 points!!");
            }});
        answer2.addEventListener("click",function(){
            if(secondsLeft > 0){
            answerBox.textContent = "wrong";
            endGame()            
            }}); 
        answer1.addEventListener("click",function(){
            if(secondsLeft > 0){
            answerBox.textContent = "wrong";
            endGame()
            }});
        answer4.addEventListener("click",function(){
            if(secondsLeft > 0){
            answerBox.textContent = "wrong";
            endGame()
            }});
           

    }

    function endGame(){
        if (secondsLeft > 0)
        // clearInterval(timerInterval);
        secondsLeft = 0;
        // showHighscore();
        sendMessage();    


    } 

//     function makeHighScore(){
//     var highScore = {
//         score:score.value,
//         player:player.value,
//     };
//     localStorage.setItem('highScore', JSON.stringify(highScore));
// }
//     function showHighscore(){
//         var lastScore = JSON.parse(localStorage.getItem('player'));
//         document.getElementById('player').innerHTML = lastScore.player;
    // }
    function saveLastScore() {
        var score = {
            finalScore: finalScore.value,
            player: player.value,
        };
        localStorage.setItem('score',JSON.stringify(score));
    }
    function showLastScore () {
        var lastScore = JSON.parse(localStorage.getItem('score'));
        if (lastScore !== null) {
            document.getElementById('finalScore').innerHTML = lastScore.finalScore;
            document.getElementById('player').innerHTML = lastScore.player;
        }
    }
    saveButton.addEventListener('click', function (event) {
        event.preventDefault();
        saveLastScore();
        showLastScore();
      });

    function addPoints() {
        scoreEl.textContent = startingScore++;
        scoreEl.textContent = startingScore++;
        scoreEl.textContent = startingScore++;
        scoreEl.textContent = startingScore++;
        scoreEl.textContent = startingScore++;     
    }
    

    function loseTime(){
        secondsLeft--;
        secondsLeft--;
        secondsLeft--;
        secondsLeft--;
        secondsLeft--;
        }
     
        
           
    

// }

function sendMessage() {
    timeEl.textContent = "GAME OVER"
}


// timer();